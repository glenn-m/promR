# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

language: r
sudo: false

cache:
  directories:
    - $TRAVIS_BUILD_DIR/packrat/src
    - $TRAVIS_BUILD_DIR/packrat/lib
  packages: true

latex: false

fortran: false

r_binary_packages:
  - rmarkdown

r_github_packages:
  - jimhester/covr
  - nealrichardson/httptest


matrix:
  fast_finish: true
  include:
    - r: 3.4
      warnings_are_errors: false
    - r: oldrel
      warnings_are_errors: false
    - r: release
      script:
        - R CMD check *tar.gz --as-cran
      after_success:
        - Rscript -e 'covr::codecov(type = "all")'
      warnings_are_errors: true
    - r: devel
      warnings_are_errors: false
    - os: osx
      r:  release
      warnings_are_errors: true
    - os: osx
      r:  oldrel
      warnings_are_errors: true
